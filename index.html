<!DOCTYPE html>
<html lang="de" style="background:#1a1a2e;">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#1a1a2e">

    <!-- App Icons -->
    <link rel="apple-touch-icon" href="images/AppIcon.png">
    <link rel="icon" type="image/png" href="images/AppIcon.png">

    <title>Caro's Gachapon</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body style="background:#1a1a2e;">
    <!-- Landscape Orientation Blocker -->
    <div class="landscape-blocker">
        <div class="rotate-icon">ğŸ“±</div>
        <p>Bitte drehe dein Handy!</p>
        <p style="font-size: 14px; color: rgba(255,255,255,0.6);">Dieses Spiel funktioniert nur im Hochformat</p>
    </div>

    <!-- Password Screen -->
    <div id="password-screen">
        <div class="gift-icon">ğŸ</div>
        <h2>Ein Geschenk fÃ¼r dich!</h2>
        <input type="password" id="pw-input" placeholder="Passwort eingeben" autocomplete="off">
        <button id="pw-submit">Ã–ffnen âœ¨</button>
        <p id="pw-error">Falsches Passwort!</p>
    </div>

    <div id="canvas-container"></div>

    <div class="title">
        <h1>Caro's Gachapon</h1>
        <p>Wirf eine MÃ¼nze ein!</p>
    </div>

    <div class="ui-overlay">
        <div class="top-row">
            <button class="top-btn" id="coin-btn">
                ğŸ’° <span id="coin-count">0</span> MÃ¼nzen
            </button>
            <button class="top-btn" id="gallery-btn">
                ğŸ“š Sammlung <span id="collection-count">0</span>
            </button>
            <button class="top-btn" id="minigame-btn">
                ğŸ® Minigame
            </button>
        </div>
        <button class="insert-btn" id="insert-btn">ğŸ’° MÃ¼nze einwerfen</button>
    </div>

    <!-- Coin Info Modal -->
    <div class="coin-info-modal" id="coin-info-modal">
        <div class="coin-info-content">
            <div class="info-icon">ğŸ’°</div>
            <p>Warte auf deine tÃ¤gliche MÃ¼nze oder spiele ein Minispiel um mehr MÃ¼nzen zu erhalten.</p>
            <button id="close-coin-info">Verstanden</button>
        </div>
    </div>

    <!-- Card Reveal Modal -->
    <div class="card-modal" id="card-modal">
        <div class="card-modal-content">
            <div class="card-label" id="card-label">â˜… NEUE KARTE! â˜…</div>
            <div class="card-rarity" id="card-rarity">GEWÃ–HNLICH</div>
            <p class="tap-hint">Tippe auf die Karte zum Umdrehen</p>
            <div class="flip-card" id="flip-card">
                <div class="flip-card-inner">
                    <div class="flip-card-front">
                        <img id="card-image" src="" alt="Card">
                    </div>
                    <div class="flip-card-back">
                        <div class="card-title" id="card-title">Titel</div>
                        <div class="card-text" id="card-text">Text der Karte</div>
                    </div>
                </div>
            </div>
            <button class="close-btn" id="close-card-modal">Zur Sammlung hinzufÃ¼gen</button>
        </div>
    </div>

    <!-- Gallery Modal -->
    <div class="gallery-modal" id="gallery-modal">
        <div class="gallery-header">
            <h2>ğŸ“š Meine Sammlung</h2>
            <div class="gallery-header-buttons">
                <button class="filter-toggle-btn" id="filter-toggle-btn">âš™ï¸ Filter</button>
                <button class="gallery-close" id="gallery-close">ZurÃ¼ck</button>
            </div>
        </div>
        <div class="gallery-filters hidden" id="gallery-filters">
            <button class="filter-btn active" data-sort="default">Standard</button>
            <button class="filter-btn" data-sort="rarity">RaritÃ¤t <span class="sort-arrow">â†‘</span></button>
            <button class="filter-btn" data-sort="number">Nummer <span class="sort-arrow">â†‘</span></button>
            <button class="filter-btn" data-sort="date">Datum <span class="sort-arrow">â†‘</span></button>
        </div>
        <div class="gallery-content" id="gallery-content">
            <div class="gallery-grid" id="gallery-grid">
                <!-- Cards will be inserted here -->
            </div>
            <div class="voucher-section" id="voucher-section">
                <div class="voucher-divider">
                    <span>ğŸŸï¸ Gutscheine ğŸŸï¸</span>
                </div>
                <div class="voucher-grid" id="voucher-grid">
                    <!-- Vouchers will be inserted here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Card View Modal (for viewing cards from gallery) -->
    <div class="card-modal" id="card-view-modal">
        <div class="card-modal-content">
            <p class="tap-hint">Tippe auf die Karte zum Umdrehen</p>
            <div class="flip-card" id="view-flip-card">
                <div class="flip-card-inner">
                    <div class="flip-card-front">
                        <img id="view-card-image" src="" alt="Card">
                    </div>
                    <div class="flip-card-back">
                        <div class="card-title" id="view-card-title">Titel</div>
                        <div class="card-text" id="view-card-text">Text der Karte</div>
                    </div>
                </div>
            </div>
            <div class="view-modal-buttons">
                <button class="redeem-btn hidden" id="redeem-voucher-btn">ğŸŸï¸ EinlÃ¶sen</button>
                <button class="close-btn" id="close-view-modal">SchlieÃŸen</button>
            </div>
        </div>
    </div>

    <!-- Minigame Container -->
    <div class="minigame-container" id="minigame-container">
        <canvas id="minigame-canvas"></canvas>
    </div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="js/cards.js"></script>
    <script src="js/minigame.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
